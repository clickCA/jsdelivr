import{At as e,Bt as t,Q as n,Vt as r,et as i,nt as a}from"./index---qi5xlK.js";import{n as o,t as s}from"./api-DRI-DH0w.js";var c=n(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),l=n(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),u=`/assets/login-bg-DnSWEQWX.png`,d=(e,t,n)=>{localStorage.setItem(`token`,e),localStorage.setItem(`refreshToken`,t),localStorage.setItem(`expiresAt`,n.toString())},f=e=>{localStorage.setItem(`user`,JSON.stringify(e))};const p={login:async e=>{let t=await s.post(`/auth/login`,e);return t.accessToken&&d(t.accessToken,t.refreshToken,t.expiresAt),t.user&&f(t.user),t},register:async e=>{let t=await s.post(`/auth/register`,e);return t.accessToken&&d(t.accessToken,t.refreshToken,t.expiresAt),t.user&&f(t.user),t},logout:()=>{localStorage.removeItem(`token`),localStorage.removeItem(`authToken`),localStorage.removeItem(`user`),localStorage.removeItem(`refreshToken`),localStorage.removeItem(`expiresAt`)},isAuthenticated:()=>!!o(),getToken:()=>o()};var m=`token`;const h={getToken(){return typeof window<`u`?localStorage.getItem(m):null},setToken(e){typeof window<`u`&&localStorage.setItem(m,e)},removeToken(){typeof window<`u`&&localStorage.removeItem(m)},hasToken(){return!!this.getToken()}};var g=a(),_=r(t(),1),v=r(e(),1);function y(e){let t=(0,g.c)(21),{value:n,onChange:r,placeholder:a,required:o,id:s,className:u}=e,d=o===void 0?!1:o,f=s===void 0?`password`:s,p=u===void 0?``:u,[m,h]=(0,_.useState)(!1),y;t[0]===m?y=t[1]:(y=()=>{h(!m)},t[0]=m,t[1]=y);let b=y,x=m?`text`:`password`,S;t[2]===r?S=t[3]:(S=e=>r(e.target.value),t[2]=r,t[3]=S);let C=`w-full pr-10 ${p}`,w;t[4]!==f||t[5]!==a||t[6]!==d||t[7]!==x||t[8]!==S||t[9]!==C||t[10]!==n?(w=(0,v.jsx)(i,{id:f,type:x,value:n,onChange:S,className:C,required:d,placeholder:a}),t[4]=f,t[5]=a,t[6]=d,t[7]=x,t[8]=S,t[9]=C,t[10]=n,t[11]=w):w=t[11];let T=m?`Hide password`:`Show password`,E;t[12]===m?E=t[13]:(E=m?(0,v.jsx)(c,{className:`h-5 w-5 text-gray-500`}):(0,v.jsx)(l,{className:`h-5 w-5 text-gray-500`}),t[12]=m,t[13]=E);let D;t[14]!==E||t[15]!==T||t[16]!==b?(D=(0,v.jsx)(`button`,{type:`button`,onClick:b,className:`absolute right-2 top-1/2 transform -translate-y-1/2 focus:outline-hidden`,"aria-label":T,children:E}),t[14]=E,t[15]=T,t[16]=b,t[17]=D):D=t[17];let O;return t[18]!==D||t[19]!==w?(O=(0,v.jsxs)(`div`,{className:`relative`,children:[w,D]}),t[18]=D,t[19]=w,t[20]=O):O=t[20],O}export{u as i,h as n,p as r,y as t};