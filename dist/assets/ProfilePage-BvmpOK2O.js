import{t as e}from"./circle-check-big-DGjJjQBP.js";import{t}from"./StudentSidebar-BtG7l1YK.js";import{t as n}from"./zap-CM4bFTpw.js";import{$ as r,A as i,At as a,Bt as o,F as s,I as c,L as l,M as u,Nt as d,Pt as f,Q as p,R as m,Rt as h,Vt as g,_,jt as v,nt as y,tt as b,z as x,zt as S}from"./index-03rxQohX.js";import{t as C}from"./progress-qTdQoPa-.js";import{t as w}from"./badge-CKhtz4OS.js";import{n as T,r as E,t as D}from"./alert-Bg7d8fGg.js";var O=p(`apple`,[[`path`,{d:`M12 6.528V3a1 1 0 0 1 1-1h0`,key:`11qiee`}],[`path`,{d:`M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21`,key:`110c12`}]]),k=p(`atom`,[[`circle`,{cx:`12`,cy:`12`,r:`1`,key:`41hilf`}],[`path`,{d:`M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z`,key:`1l2ple`}],[`path`,{d:`M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z`,key:`1wam0m`}]]),A=p(`book-open`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),j=p(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),ee=p(`chart-no-axes-column`,[[`path`,{d:`M5 21v-6`,key:`1hz6c0`}],[`path`,{d:`M12 21V3`,key:`1lcnhd`}],[`path`,{d:`M19 21V9`,key:`unv183`}]]),te=p(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),ne=p(`flask-conical`,[[`path`,{d:`M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2`,key:`18mbvz`}],[`path`,{d:`M6.453 15h11.094`,key:`3shlmq`}],[`path`,{d:`M8.5 2h7`,key:`csnxdl`}]]),re=p(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),M=p(`rocket`,[[`path`,{d:`M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z`,key:`m3kijz`}],[`path`,{d:`m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z`,key:`1fmvmk`}],[`path`,{d:`M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0`,key:`1f8sc4`}],[`path`,{d:`M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5`,key:`qeys4`}]]),N=p(`waves`,[[`path`,{d:`M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1`,key:`knzxuh`}],[`path`,{d:`M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1`,key:`2jd2cc`}],[`path`,{d:`M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1`,key:`rd2r6e`}]]),P=y(),F=g(a(),1);function I(e){let t=(0,P.c)(8),n,r;t[0]===e?(n=t[1],r=t[2]):({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r);let i;t[3]===n?i=t[4]:(i=b(`animate-pulse rounded-md bg-muted`,n),t[3]=n,t[4]=i);let a;return t[5]!==r||t[6]!==i?(a=(0,F.jsx)(`div`,{className:i,...r}),t[5]=r,t[6]=i,t[7]=a):a=t[7],a}var L=y();const R=d`
  query GetStudentEnrollments($studentId: UUID!) {
    getStudentEnrollments(studentId: $studentId) {
      id
      course {
        id
        name
        description
        categories {
          name
        }
      }
      completionPercentage
      status
      timeSpentSeconds
      lastAccessedAt
    }
  }
`,z=e=>{let t=(0,L.c)(5),n;t[0]===e?n=t[1]:(n={studentId:e},t[0]=e,t[1]=n);let r=!e,i;return t[2]!==n||t[3]!==r?(i={variables:n,skip:r},t[2]=n,t[3]=r,t[4]=i):i=t[4],v(R,i)};var B=y();const V=t=>{let r=(0,B.c)(15),{enrollments:i,className:a}=t,o=a===void 0?``:a,s=[{id:`mechanics1`,name:`กลศาสตร์ 1`,title:`เนื้อหากลศาสตร์ 1`,color:`bg-red-500`,icon:(0,F.jsx)(O,{className:`h-6 w-6`}),totalCourses:4,categories:[`กลศาสตร์ 1`]},{id:`mechanics2`,name:`กลศาสตร์ 2`,title:`เนื้อหากลศาสตร์ 2`,color:`bg-red-500`,icon:(0,F.jsx)(M,{className:`h-6 w-6`}),totalCourses:4,categories:[`กลศาสตร์ 2`]},{id:`properties`,name:`สมบัติสาร`,title:`เนื้อหาสมบัติสาร`,color:`bg-cyan-500`,icon:(0,F.jsx)(ne,{className:`h-6 w-6`}),totalCourses:3,categories:[`สมบัติสาร`]},{id:`waves`,name:`คลื่น`,title:`เนื้อหาคลื่น`,color:`bg-green-400`,icon:(0,F.jsx)(N,{className:`h-6 w-6`}),totalCourses:4,categories:[`คลื่น`]},{id:`electricity`,name:`ไฟฟ้า`,title:`เนื้อหาไฟฟ้า`,color:`bg-amber-500`,icon:(0,F.jsx)(n,{className:`h-6 w-6`}),totalCourses:4,categories:[`ไฟฟ้า`]},{id:`modern`,name:`ฟิสิกส์ยุคใหม่`,title:`เนื้อหาฟิสิกส์ยุคใหม่`,color:`bg-purple-500`,icon:(0,F.jsx)(k,{className:`h-6 w-6`}),totalCourses:2,categories:[`ฟิสิกส์ยุคใหม่`]}],u=e=>i.filter(t=>e.some(e=>Array.isArray(t.course.categories)?t.course.categories.includes(e):t.course.categories===e)&&t.status===`COMPLETED`).length,d={"กลศาสตร์ 1":`#ef4444`,"กลศาสตร์ 2":`#ef4444`,สมบัติสาร:`#06b6d4`,คลื่น:`#4ade80`,ไฟฟ้า:`#f59e0b`,ฟิสิกส์ยุคใหม่:`#a855f7`},{t:p}=f(`profile`),m=c,h=`mt-6 ${o}`,g;r[0]===Symbol.for(`react.memo_cache_sentinel`)?(g=(0,F.jsx)(e,{className:`h-5 w-5 mr-2 text-green-600`}),r[0]=g):g=r[0];let _;r[1]===p?_=r[2]:(_=p(`achievements.title`),r[1]=p,r[2]=_);let v;r[3]===_?v=r[4]:(v=(0,F.jsx)(x,{children:(0,F.jsxs)(`h2`,{className:`text-xl font-bold flex items-center`,children:[g,_]})}),r[3]=_,r[4]=v);let y=l,b=s.map(e=>{let t=u(e.categories),n=t>=e.totalCourses,r=Math.min(100,t/e.totalCourses*100),i=d[e.name]||`#6b7280`,a=2*Math.PI*36;return(0,F.jsxs)(`div`,{className:`flex flex-col items-center group`,children:[(0,F.jsxs)(`div`,{className:`relative w-24 h-24 mb-3 flex items-center justify-center`,children:[(0,F.jsxs)(`svg`,{className:`absolute w-full h-full transform -rotate-90`,children:[(0,F.jsx)(`circle`,{cx:`50%`,cy:`50%`,r:`36`,fill:`transparent`,stroke:`#e5e7eb`,strokeWidth:`9`}),(0,F.jsx)(`circle`,{cx:`50%`,cy:`50%`,r:`36`,fill:`transparent`,stroke:i,strokeWidth:`10`,strokeDasharray:a,strokeDashoffset:a-r/100*a,strokeLinecap:`round`})]}),(0,F.jsx)(`div`,{className:`
                      w-16 h-16 rounded-full flex items-center justify-center 
                      relative z-10 ${e.color} border-2 border-white
                    `,children:(0,F.jsx)(`div`,{className:`text-white scale-125`,children:e.icon})})]}),(0,F.jsx)(`h4`,{className:`font-medium text-center text-gray-700 mb-1`,children:e.title}),(0,F.jsxs)(`div`,{className:`text-sm text-gray-500`,children:[p(`achievements.learned`,{completed:u(e.categories),total:e.totalCourses}),n&&(0,F.jsx)(`div`,{className:`absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg`,children:(0,F.jsx)(`span`,{className:`text-white font-medium`,children:p(`achievements.unlocked`)})})]})]},e.id)}),S;r[5]===b?S=r[6]:(S=(0,F.jsx)(`div`,{className:`grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6`,children:b}),r[5]=b,r[6]=S);let C;r[7]!==y||r[8]!==S?(C=(0,F.jsx)(y,{children:S}),r[7]=y,r[8]=S,r[9]=C):C=r[9];let w;return r[10]!==m||r[11]!==h||r[12]!==v||r[13]!==C?(w=(0,F.jsxs)(m,{className:h,children:[v,C]}),r[10]=m,r[11]=h,r[12]=v,r[13]=C,r[14]=w):w=r[14],w};var H=y();const U=()=>{let e=(0,H.c)(10),{user:t}=s(),{loading:n,error:r,data:i}=z(t?.id??``);if(n){let t;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsx)(I,{className:`h-24 w-full`}),e[0]=t):t=e[0];let n;return e[1]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,F.jsxs)(`div`,{className:`space-y-4`,children:[t,(0,F.jsx)(`div`,{className:`grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6`,children:[...[,,,,,]].map(W)})]}),e[1]=n):n=e[1],n}if(r){let t;e[2]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsx)(E,{children:`Error loading enrollments`}),e[2]=t):t=e[2];let n=r.message||`Failed to load enrollment data`,i;return e[3]===n?i=e[4]:(i=(0,F.jsxs)(D,{variant:`destructive`,children:[t,(0,F.jsx)(T,{children:n})]}),e[3]=n,e[4]=i),i}if(!i?.getStudentEnrollments){let t;return e[5]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsxs)(D,{variant:`default`,children:[(0,F.jsx)(E,{children:`No enrollment data available`}),(0,F.jsx)(T,{children:`Student enrollment information could not be loaded`})]}),e[5]=t):t=e[5],t}let a;e[6]===i.getStudentEnrollments?a=e[7]:(a=i.getStudentEnrollments.map(K),e[6]=i.getStudentEnrollments,e[7]=a);let o=a,c;return e[8]===o?c=e[9]:(c=(0,F.jsx)(V,{enrollments:o}),e[8]=o,e[9]=c),c};function W(e,t){return(0,F.jsx)(I,{className:`h-48 w-full`},t)}function G(e){return e.name}function K(e){return{id:e.id,course:{name:e.course.name,categories:e.course.categories.map(G)},status:e.status}}var q=y();const J=t=>{let n=(0,q.c)(15),{enrollments:r,className:i}=t,a=i===void 0?``:i,o=[{name:`ม.4 เทอม 1`,totalCourses:3},{name:`ม.4 เทอม 2`,totalCourses:4},{name:`ม.5 เทอม 1`,totalCourses:3},{name:`ม.5 เทอม 2`,totalCourses:3},{name:`ม.6 เทอม 1`,totalCourses:5},{name:`ม.6 เทอม 2`,totalCourses:3}],s=e=>{let t=r.filter(t=>t.course.categories.includes(e)&&t.status===`COMPLETED`).length,n=o.find(t=>t.name===e)?.totalCourses||0;return{completed:t,total:n,percentage:n>0?Math.round(t/n*100):0}},{t:u}=f(`profile`),d=c,p=`mt-6 ${a}`,m;n[0]===Symbol.for(`react.memo_cache_sentinel`)?(m=(0,F.jsx)(e,{className:`h-5 w-5 mr-2 text-green-600`}),n[0]=m):m=n[0];let h;n[1]===u?h=n[2]:(h=u(`courseCompletion.title`),n[1]=u,n[2]=h);let g;n[3]===h?g=n[4]:(g=(0,F.jsx)(x,{children:(0,F.jsxs)(`h2`,{className:`text-xl font-bold flex items-center`,children:[m,h]})}),n[3]=h,n[4]=g);let _=l,v=o.map(e=>{let t=s(e.name);return(0,F.jsxs)(`div`,{className:`border border-gray-200 rounded-lg p-4`,children:[(0,F.jsxs)(`div`,{className:`flex justify-between items-start mb-3`,children:[(0,F.jsxs)(`div`,{children:[(0,F.jsx)(`h4`,{className:`font-medium`,children:e.name}),(0,F.jsx)(`p`,{className:`text-sm text-gray-500`,children:u(`courseCompletion.courses`,{count:e.totalCourses})})]}),(0,F.jsxs)(w,{variant:`outline`,className:`text-sm`,children:[t.completed,`/`,e.totalCourses]})]}),(0,F.jsx)(`div`,{className:`mb-2`,children:(0,F.jsx)(C,{value:t.percentage,className:`h-2`})}),(0,F.jsxs)(`div`,{className:`flex justify-between text-xs text-gray-500`,children:[(0,F.jsx)(`span`,{children:u(`courseCompletion.progress`)}),(0,F.jsxs)(`span`,{children:[t.percentage,`%`]})]})]},e.name)}),y;n[5]===v?y=n[6]:(y=(0,F.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:v}),n[5]=v,n[6]=y);let b;n[7]!==_||n[8]!==y?(b=(0,F.jsx)(_,{children:y}),n[7]=_,n[8]=y,n[9]=b):b=n[9];let S;return n[10]!==d||n[11]!==p||n[12]!==g||n[13]!==b?(S=(0,F.jsxs)(d,{className:p,children:[g,b]}),n[10]=d,n[11]=p,n[12]=g,n[13]=b,n[14]=S):S=n[14],S};var Y=y();const X=()=>{let e=(0,Y.c)(9),{user:t}=s(),{loading:n,error:r,data:i}=z(t?.id??``);if(n){let t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsxs)(`div`,{className:`space-y-4`,children:[(0,F.jsx)(I,{className:`h-24 w-full`}),(0,F.jsx)(I,{className:`h-16 w-full`}),(0,F.jsx)(I,{className:`h-16 w-full`})]}),e[0]=t):t=e[0],t}if(r){let t;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsx)(E,{children:`Error loading enrollments`}),e[1]=t):t=e[1];let n=r.message||`Failed to load enrollment data`,i;return e[2]===n?i=e[3]:(i=(0,F.jsxs)(D,{variant:`destructive`,children:[t,(0,F.jsx)(T,{children:n})]}),e[2]=n,e[3]=i),i}if(!i?.getStudentEnrollments){let t;return e[4]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsxs)(D,{variant:`default`,children:[(0,F.jsx)(E,{children:`No enrollment data available`}),(0,F.jsx)(T,{children:`Student enrollment information could not be loaded`})]}),e[4]=t):t=e[4],t}let a;e[5]===i.getStudentEnrollments?a=e[6]:(a=i.getStudentEnrollments.map(ae),e[5]=i.getStudentEnrollments,e[6]=a);let o=a,c;return e[7]===o?c=e[8]:(c=(0,F.jsx)(J,{enrollments:o}),e[7]=o,e[8]=c),c};function ie(e){return e.name}function ae(e){return{id:e.id,course:{name:e.course.name,categories:e.course.categories.map(ie)},completionPercentage:e.completionPercentage,status:e.status}}const oe=e=>{let t=Math.max(0,Math.floor(e)),n=Math.floor(t/60),r=t%60;return`${String(n).padStart(2,`0`)}:${String(r).padStart(2,`0`)}`};var se=y();const Z=(e,t)=>{let n=(0,se.c)(3),r;if(n[0]!==e||n[1]!==t){bb0:try{let n=new Date(e);if(isNaN(n.getTime())){console.error(`Invalid date string provided:`,e),r=`Invalid date`;break bb0}if(t===`short`){r=`${n.getDate()} ${n.toLocaleString(`th-TH`,{month:`short`})} ${n.getFullYear()}`;break bb0}r=n.toLocaleDateString(`th-TH`,{year:`numeric`,month:`long`,day:`numeric`,hour:`numeric`,minute:`numeric`,hour12:!1})+` น.`}catch(e){let t=e;console.error(`Error formatting date:`,t),r=`Invalid date`}n[0]=e,n[1]=t,n[2]=r}else r=n[2];return r};var ce=y();const le=e=>{let t=(0,ce.c)(20),{name:n,description:r,progress:i,lastAccessed:a}=e,o;t[0]===n?o=t[1]:(o=(0,F.jsx)(`h4`,{className:`font-medium`,children:n}),t[0]=n,t[1]=o);let s;t[2]===r?s=t[3]:(s=(0,F.jsx)(`p`,{className:`text-sm text-gray-500`,children:r}),t[2]=r,t[3]=s);let c;t[4]!==o||t[5]!==s?(c=(0,F.jsxs)(`div`,{children:[o,s]}),t[4]=o,t[5]=s,t[6]=c):c=t[6];let l;t[7]===i?l=t[8]:(l=(0,F.jsxs)(w,{variant:`secondary`,className:`px-2 py-1`,children:[i,`%`]}),t[7]=i,t[8]=l);let u;t[9]!==c||t[10]!==l?(u=(0,F.jsxs)(`div`,{className:`flex justify-between items-start`,children:[c,l]}),t[9]=c,t[10]=l,t[11]=u):u=t[11];let d;t[12]===i?d=t[13]:(d=(0,F.jsx)(`div`,{className:`mt-3`,children:(0,F.jsx)(C,{value:i,className:`h-2`})}),t[12]=i,t[13]=d);let f;t[14]===a?f=t[15]:(f=(0,F.jsx)(`div`,{className:`flex justify-between mt-2 text-sm text-gray-500`,children:(0,F.jsxs)(`span`,{children:[`เข้าเรียนเมื่อ `,a]})}),t[14]=a,t[15]=f);let p;return t[16]!==u||t[17]!==d||t[18]!==f?(p=(0,F.jsxs)(`div`,{className:`border border-gray-200 rounded-lg p-4`,children:[u,d,f]}),t[16]=u,t[17]=d,t[18]=f,t[19]=p):p=t[19],p};var ue=y();const de=({totalCourses:t,inProgress:n,coursesCompleted:i,enrollments:a,className:o=``})=>{let{t:s}=f(`profile`),d=h(),p=S(),g=a.filter(e=>e.status===`IN_PROGRESS`).sort((e,t)=>new Date(t.lastAccessedAt).getTime()-new Date(e.lastAccessedAt).getTime());return(0,F.jsxs)(c,{className:`lg:col-span-2 ${o}`,children:[(0,F.jsx)(x,{children:(0,F.jsxs)(`h2`,{className:`text-xl font-bold flex items-center`,children:[(0,F.jsx)(ee,{className:`h-5 w-5 mr-2 text-indigo-600`}),s(`learningProgress.title`)]})}),(0,F.jsxs)(r,{type:`always`,className:`rounded-md px-4 py-4`,children:[(0,F.jsxs)(l,{children:[(0,F.jsxs)(`div`,{className:`grid grid-cols-3 gap-4 mb-6`,children:[(0,F.jsx)(Q,{icon:(0,F.jsx)(A,{className:`h-6 w-6 text-blue-600`}),label:s(`learningProgress.totalCourses`),value:t,bgColor:`bg-blue-50`}),(0,F.jsx)(Q,{icon:(0,F.jsx)(te,{className:`h-6 w-6 text-amber-600`}),label:s(`learningProgress.inProgress`),value:n,bgColor:`bg-amber-50`}),(0,F.jsx)(Q,{icon:(0,F.jsx)(e,{className:`h-6 w-6 text-green-600`}),label:s(`learningProgress.completed`),value:i,bgColor:`bg-green-50`})]}),(0,F.jsx)(`h3`,{className:`font-medium mb-3`,children:s(`learningProgress.overallProgress`)}),(0,F.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,F.jsx)(C,{value:t>0?i/t*100:0,className:`h-3 flex-grow`}),(0,F.jsxs)(`span`,{className:`text-sm font-medium`,children:[t>0?Math.round(i/t*100):0,`%`]})]}),g.length===0?(0,F.jsxs)(`div`,{className:`text-center py-8`,children:[(0,F.jsx)(`div`,{className:`text-gray-600 mb-2`,children:s(`learningProgress.noActiveCourses`)}),(0,F.jsxs)(u,{variant:`outline`,className:`gap-2 mt-4`,onClick:()=>d(`/chapters`),children:[(0,F.jsx)(A,{className:`h-4 w-4`}),s(`learningProgress.allCoursesButton`)]})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(`h3`,{className:`font-medium mt-6 mb-3`,children:s(`learningProgress.activeCourses`)}),(0,F.jsx)(`div`,{className:`space-y-4`,children:g.map(e=>(0,F.jsx)(le,{name:e.course.name,description:e.course.description,progress:e.completionPercentage,lastAccessed:Z(e.lastAccessedAt,`short`),timeSpent:oe(e.timeSpentSeconds),status:e.status},e.id))})]})]}),g.length>0&&(0,F.jsx)(m,{className:`justify-center`,children:(0,F.jsxs)(u,{variant:`outline`,className:`gap-2`,onClick:()=>d(`/${p.lang}/chapters`),children:[(0,F.jsx)(A,{className:`h-4 w-4`}),s(`learningProgress.allCoursesButton`)]})})]})]})};var Q=e=>{let t=(0,ue.c)(13),{icon:n,label:r,value:i,bgColor:a}=e,o=`${a} p-4 rounded-lg`,s;t[0]===r?s=t[1]:(s=(0,F.jsx)(`p`,{className:`text-sm text-gray-500`,children:r}),t[0]=r,t[1]=s);let c;t[2]===i?c=t[3]:(c=(0,F.jsx)(`p`,{className:`text-xl font-bold`,children:i}),t[2]=i,t[3]=c);let l;t[4]!==s||t[5]!==c?(l=(0,F.jsxs)(`div`,{className:`ml-3`,children:[s,c]}),t[4]=s,t[5]=c,t[6]=l):l=t[6];let u;t[7]!==n||t[8]!==l?(u=(0,F.jsxs)(`div`,{className:`flex items-center`,children:[n,l]}),t[7]=n,t[8]=l,t[9]=u):u=t[9];let d;return t[10]!==o||t[11]!==u?(d=(0,F.jsx)(`div`,{className:o,children:u}),t[10]=o,t[11]=u,t[12]=d):d=t[12],d},fe=y();const pe=()=>{let e=(0,fe.c)(18),{user:t}=s(),{loading:n,error:r,data:i}=z(t?.id??``);if(n){let t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsxs)(`div`,{className:`space-y-4`,children:[(0,F.jsx)(I,{className:`h-24 w-full`}),(0,F.jsx)(I,{className:`h-16 w-full`})]}),e[0]=t):t=e[0],t}if(r){let t;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsx)(E,{children:`Error loading enrollments`}),e[1]=t):t=e[1];let n=r.message||`Failed to load enrollment data`,i;return e[2]===n?i=e[3]:(i=(0,F.jsxs)(D,{variant:`destructive`,children:[t,(0,F.jsx)(T,{children:n})]}),e[2]=n,e[3]=i),i}if(!i?.getStudentEnrollments){let t;return e[4]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsxs)(D,{variant:`default`,children:[(0,F.jsx)(E,{children:`No enrollment data available`}),(0,F.jsx)(T,{children:`Student enrollment information could not be loaded`})]}),e[4]=t):t=e[4],t}let a=i.getStudentEnrollments,o=a.length,c;e[5]===a?c=e[6]:(c=a.filter(me),e[5]=a,e[6]=c);let l=c.length,u;e[7]===a?u=e[8]:(u=a.filter(he),e[7]=a,e[8]=u);let d;e[9]!==a.length||e[10]!==c.length||e[11]!==u.length?(d={totalCourses:o,inProgress:l,coursesCompleted:u.length},e[9]=a.length,e[10]=c.length,e[11]=u.length,e[12]=d):d=e[12];let f=d,p;return e[13]!==a||e[14]!==f.coursesCompleted||e[15]!==f.inProgress||e[16]!==f.totalCourses?(p=(0,F.jsx)(de,{totalCourses:f.totalCourses,inProgress:f.inProgress,coursesCompleted:f.coursesCompleted,enrollments:a}),e[13]=a,e[14]=f.coursesCompleted,e[15]=f.inProgress,e[16]=f.totalCourses,e[17]=p):p=e[17],p};function me(e){return e.status===`IN_PROGRESS`}function he(e){return e.status===`COMPLETED`}const ge=d`
  query Me {
    me {
      email
      name
      createdAt
      updatedAt
    }
  }
`,_e=()=>v(ge);var ve=y();const ye=e=>{let t=(0,ve.c)(13),{name:n,size:r,showBookIcon:i}=e,a=r===void 0?`md`:r,o=i===void 0?!0:i,s=$,c;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(c={sm:`w-16 h-16 text-xl`,md:`w-24 h-24 text-2xl`,lg:`w-32 h-32 text-3xl`},t[0]=c):c=t[0];let l=c,u;t[1]===n?u=t[2]:(u=s(n),t[1]=n,t[2]=u);let d=u,f;t[3]===n?f=t[4]:(f=n.split(` `).map(xe).join(``).slice(0,2),t[3]=n,t[4]=f);let p=f,m=`rounded-full bg-gradient-to-br ${d} flex items-center justify-center text-white font-bold shadow-lg ${l[a]}`,h;t[5]!==p||t[6]!==m?(h=(0,F.jsx)(`div`,{className:m,children:p}),t[5]=p,t[6]=m,t[7]=h):h=t[7];let g;t[8]===o?g=t[9]:(g=o&&(0,F.jsx)(`div`,{className:`absolute -bottom-1 right-0 bg-green-500 rounded-full p-1`,children:(0,F.jsx)(A,{className:`h-4 w-4 text-white`})}),t[8]=o,t[9]=g);let _;return t[10]!==h||t[11]!==g?(_=(0,F.jsxs)(`div`,{className:`relative`,children:[h,g]}),t[10]=h,t[11]=g,t[12]=_):_=t[12],_};function be(e,t){return(e*31+t.charCodeAt(0))%360}function $(e){if(!e)return`from-blue-500 to-indigo-600`;let t=Array.from(e).reduce(be,0),n=[`from-blue-500 to-indigo-600`,`from-green-500 to-teal-600`,`from-red-500 to-pink-600`,`from-purple-500 to-fuchsia-600`,`from-yellow-500 to-amber-600`,`from-orange-500 to-red-600`,`from-emerald-500 to-cyan-600`,`from-violet-500 to-purple-600`,`from-rose-500 to-pink-600`,`from-sky-500 to-blue-600`,`from-lime-500 to-green-600`,`from-amber-500 to-yellow-600`];return n[t%n.length]}function xe(e){return e[0]}var Se=y();const Ce=e=>{let t=(0,Se.c)(20),{name:n,email:r,createdAt:i,className:a}=e,o=a===void 0?``:a,s=Z(i,`short`),{t:u}=f(`profile`),d=`lg:col-span-1 ${o}`,p,m;t[0]===n?(p=t[1],m=t[2]):(p=(0,F.jsx)(ye,{name:n}),m=(0,F.jsx)(`h2`,{className:`text-xl font-bold mt-4`,children:n}),t[0]=n,t[1]=p,t[2]=m);let h;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(h=(0,F.jsx)(re,{className:`h-4 w-4 mr-2`}),t[3]=h):h=t[3];let g;t[4]===r?g=t[5]:(g=(0,F.jsxs)(`div`,{className:`flex items-center mt-1 text-gray-600`,children:[h,(0,F.jsx)(`span`,{children:r})]}),t[4]=r,t[5]=g);let _;t[6]!==p||t[7]!==m||t[8]!==g?(_=(0,F.jsxs)(x,{className:`items-center pb-4`,children:[p,m,g]}),t[6]=p,t[7]=m,t[8]=g,t[9]=_):_=t[9];let v;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(v=(0,F.jsx)(j,{className:`h-4 w-4 mr-3 text-gray-500`}),t[10]=v):v=t[10];let y;t[11]!==s||t[12]!==u?(y=u(`userProfile.joined`,{date:s}),t[11]=s,t[12]=u,t[13]=y):y=t[13];let b;t[14]===y?b=t[15]:(b=(0,F.jsx)(l,{className:`space-y-3 border-t border-gray-100 pt-4`,children:(0,F.jsxs)(`div`,{className:`flex items-center text-sm`,children:[v,(0,F.jsx)(`span`,{children:y})]})}),t[14]=y,t[15]=b);let S;return t[16]!==b||t[17]!==d||t[18]!==_?(S=(0,F.jsxs)(c,{className:d,children:[_,b]}),t[16]=b,t[17]=d,t[18]=_,t[19]=S):S=t[19],S};var we=y();const Te=()=>{let e=(0,we.c)(10),{loading:t,error:n,data:r}=_e();if(t){let t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsxs)(`div`,{className:`space-y-4`,children:[(0,F.jsx)(I,{className:`h-24 w-full`}),(0,F.jsx)(I,{className:`h-16 w-full`})]}),e[0]=t):t=e[0],t}if(n){let t;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsx)(E,{children:`Error loading profile`}),e[1]=t):t=e[1];let r=n.message||`Failed to load user data`,i;return e[2]===r?i=e[3]:(i=(0,F.jsxs)(D,{variant:`destructive`,children:[t,(0,F.jsx)(T,{children:r})]}),e[2]=r,e[3]=i),i}if(!r?.me){let t;return e[4]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsxs)(D,{variant:`default`,children:[(0,F.jsx)(E,{children:`No profile data available`}),(0,F.jsx)(T,{children:`User profile information could not be loaded`})]}),e[4]=t):t=e[4],t}let i;return e[5]!==r.me.createdAt||e[6]!==r.me.email||e[7]!==r.me.name||e[8]!==r.me.updatedAt?(i=(0,F.jsx)(Ce,{name:r.me.name,email:r.me.email,createdAt:r.me.createdAt,updatedAt:r.me.updatedAt}),e[5]=r.me.createdAt,e[6]=r.me.email,e[7]=r.me.name,e[8]=r.me.updatedAt,e[9]=i):i=e[9],i};var Ee=y(),De=()=>{let e=(0,Ee.c)(1),t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,F.jsx)(`div`,{className:`bg-white rounded-xl shadow-xl p-6 h-full w-full border border-gray-200 flex flex-col`,children:(0,F.jsxs)(r,{type:`always`,className:`rounded-md px-4 py-4`,children:[(0,F.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-6`,children:[(0,F.jsx)(Te,{}),(0,F.jsx)(pe,{})]}),(0,F.jsx)(X,{}),(0,F.jsx)(U,{})]})}),e[0]=t):t=e[0],t},Oe=y(),ke=g(o(),1);function Ae(){let e=(0,Oe.c)(9),[n,r]=(0,ke.useState)(!1),a;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(a=e=>{r(e)},e[0]=a):a=e[0];let o=a,s;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(s=(0,F.jsx)(`div`,{className:`absolute inset-0 bg-[#FAFAFA] backdrop-blur-md`}),e[1]=s):s=e[1];let c;e[2]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,F.jsx)(i,{onPhoneMenuClick:o}),e[2]=c):c=e[2];let l;e[3]===Symbol.for(`react.memo_cache_sentinel`)?(l=()=>r(!1),e[3]=l):l=e[3];let u;e[4]===n?u=e[5]:(u=(0,F.jsx)(t,{isOpen:n,onClose:l}),e[4]=n,e[5]=u);let d;e[6]===Symbol.for(`react.memo_cache_sentinel`)?(d=(0,F.jsx)(De,{}),e[6]=d):d=e[6];let f;return e[7]===u?f=e[8]:(f=(0,F.jsxs)(`div`,{children:[s,(0,F.jsxs)(`div`,{className:`relative`,children:[c,(0,F.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-1 xl:gap-2 w-[100vw] h-[92vh] px-0 md:px-2 xl:px-4 py-2 md:py-2 xl:py-3 border-blue-500`,children:[u,d]})]})]}),e[7]=u,e[8]=f),f}export{Ae as default};